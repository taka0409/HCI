<html>
  <head>
    <title>HCI</title>
    <script type="text/javascript">
        function draw(){
            var element=document.getElementById("face");
            var NL=element.face;
            var flg=NL.value;
            var x=Number(document.getElementById("range").value);
            var can = document.getElementById("canvas");
            var ctx = can.getContext("2d");
            ctx.clearRect(0,0,200,200);
            function circle(){
                ctx.beginPath();
                ctx.arc(100,100,80,0,Math.PI*2,false);
                ctx.stroke();
            }
            function magao(){
                ctx.beginPath();
                ctx.arc(130,80,20,0,Math.PI*2,false);
                ctx.stroke();
                ctx.beginPath();
                ctx.arc(70,80,20,0,Math.PI*2,false);
                ctx.stroke();
                ctx.closePath();
                ctx.beginPath();
                ctx.moveTo(70,150);
                ctx.lineTo(130,150);
                ctx.closePath();
                ctx.stroke();
            }
            function egao(){
                ctx.beginPath();
                ctx.moveTo(55,80);
                ctx.lineTo(75,75-x);
                ctx.lineTo(95,80);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(145,80);
                ctx.lineTo(125,75-x);
                ctx.lineTo(105,80);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(55,130-x);
                ctx.bezierCurveTo(75,170,125,170,145,130-x);
                if(x>6)
                    ctx.closePath();
                ctx.stroke();
                
            }
            function odoroki(){
                ctx.beginPath();
                ctx.arc(130,80,15,0,Math.PI*2,false);
                ctx.stroke();
                ctx.beginPath();
                ctx.arc(70,80,15,0,Math.PI*2,false);
                ctx.stroke();
                ctx.beginPath();
                ctx.arc(100,150,15+x,0,Math.PI*2,false);
                ctx.stroke();
            }
            function naki(){
                ctx.beginPath();
                ctx.moveTo(55,75+x);
                ctx.lineTo(80+x,70-x);
                ctx.stroke();                
                ctx.beginPath();
                ctx.moveTo(145,75+x);
                ctx.lineTo(120-x,70-x);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(55,140+x);
                ctx.bezierCurveTo(70,110,130,110,145,140+x);
                ctx.stroke();          
            }
            function ikari(){
                ctx.beginPath();
                ctx.moveTo(55,70-x);
                ctx.lineTo(80,80+x);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(145,70-x);
                ctx.lineTo(120,80+x);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(55,140+x);
                ctx.bezierCurveTo(70,110,130,110,145,140+x);
                ctx.stroke();                
            }
            circle();
            switch(flg){
                case "真顔":
                    magao();
                    break;
                case "笑顔":
                    egao();
                    break;
                case "驚き":
                    odoroki();
                    break;
                case "泣き顔":
                    naki();
                    break;
                case "怒り":
                    ikari();
                    break;
            }
        }
        function getval(){
            x=document.getElementById("range").value;
            console.log(x);
        }
        function getdata(){
            var element=document.getElementById("face");
            var NL=element.face;
        }
    </script>
    <style type="text/css">
      canvas { border: 1px solid #999; }
    </style>
  </head>
  <body onload="draw();">
    <p>
        実験内容について説明します.<br>
        実験のテーマは「伝えたい情報を簡単に，わかりやすく伝えられるか」です．<br>
        ボタンをクリックすると表情が選べます．<br>その下のスライドバーを左右に動かすと感情の大きさを選ぶことができます．<br>
        (スライドバーはタップするとやりやすいです)<br>
        入力，表示の確認が終わったらアンケートの協力をお願いします．<br>
        評価が良ければいいというものではないので，<br>良かった点・改善点などあれば素直に書いていただいて構いません．<br>
        よろしくお願いします．<br>
        アンケートのリンクは<a href="https://goo.gl/forms/yc3itNJJm0gK9Nc02" target="_blank">こちら<a/>です．<br>
    </p>
    <p><canvas id="canvas" width="200" height="200"></canvas></p>
    <p><form id="face">
    <input type="radio" name="face" value="真顔" onclick="draw()" checked="checked"/>
    真顔
    <input type="radio" name="face" value="笑顔" onclick="draw()"/>
    笑顔
    <input type="radio" name="face" value="驚き" onclick="draw()"/>
    驚き
    <input type="radio" name="face" value="泣き顔" onclick="draw()"/>
    泣き顔
    <input type="radio" name="face" value="怒り" onclick="draw()"/>
    怒り
    </form><p/>
    <p>
    感情<br/>
    小<input type="range" id="range" min=0 max=10 value=5 onchange="draw()">大</p>
  </body>
</html>
